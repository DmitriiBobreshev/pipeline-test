parameters:
  - name: skipFolder
    type: string
    default: '^.*Resources(?!CL|Generic|\|$).*$'

variables:
  - name: System.Debug
    value: false
  - name: Agent.Diagnostic
    value: false
  - name: sometextprobably 
    value: 'fear'
  - name: currentDate
    value:  $[ format('{0:yyyy}{0:MM}{0:dd}', pipeline.startTime) ]
  # - name: ADO_FORCE_USE_PSUNZIP
  #   value: true
pool: Default
  #vmImage: 'ubuntu-latest'

stages:
- stage: first_stage
  jobs:
  - job: first_job
    pool: Default
      # vmImage: windows-latest
    steps:
    - pwsh: Write-Host "##vso[task.logissue type=error]The first thing went wrong."
      displayName: Log Issue Without Group
    - pwsh: |
        Write-Host "##vso[task.logissue type=error] Log Before Inside Group thing went wrong."
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
      displayName: Log Before Inside Group
    - pwsh: |
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##vso[task.logissue type=error]Log Issue Inside Group went wrong."
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
      displayName: Log Issue Inside Group
    - pwsh: |
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
        Write-Host "##vso[task.logissue type=error] Log Issue After Group went wrong."
      displayName: Log Issue After Group
    - pwsh: |
        Write-Host "##[group]sage\nmessagemessagemessagemessage\n##[endgroup]"
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
        Write-Host "##vso[task.logissue type=error]Issue after first group.(line 15 in logs, l=15 in url)"
        Write-Host "##[group]Group"  
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
        Write-Host "##vso[task.logissue type=error]Issue after second group.(line 20 in logs, l=18 in url)"
        Write-Host "TestInfo(l=16 and 19 in url??)"
        Write-Host "##vso[task.logissue type=error]Issue in the middle of the job.(line 22 in logs, l=20 in url)"
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
        Write-Host "##vso[task.logissue type=error]ssue after third group.(line 28 in logs)"
        Write-Host "##[group]Group"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##vso[task.logissue type=error]Issue in the middle of the forth froup.(line 34 in logs)"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Output "====== Filler ======"
        Write-Host "##[endgroup]"
      displayName: Sample broken lines
