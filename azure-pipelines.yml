name: '$(BuildDefinitionName)_$(Year:yyyy).$(Month).$(DayOfMonth)$(Rev:.r)00'

stages:
- stage: 'ArchiveFilesWin2022'
  pool:
    name: 'Azure Pipelines'
    vmImage: 'windows-2022'
  jobs:
    - job: 'TestInCorrect'
      displayName: 'Test incorrect checkout'
      steps:
        - checkout: self
          path: s/
        - checkout: git://playground/playground
          path: s/roles/logstash
          clean: false

    - job: 'TestCorrect'
      displayName: 'Test correct checkout'
      steps:
        - checkout: git://playground/playground
          path: s/roles/logstash2
          clean: false
        - checkout: self
          path: s/

    - job: 'TestIsCorrect'
      displayName: 'Test is correct checkout'
      steps:
        - checkout: git://playground/playground
          path: s/roles/logstash2
          clean: false