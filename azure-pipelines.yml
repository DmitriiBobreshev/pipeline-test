variables:
  - group: secrets-groups
  - name: ndkPath
    value: TEST_NDK_PATH
  - name: androidSdkPath
    value: TEST_SDK_PATH
  - name: System.Debug
    value: true
  - name: build.clean
    value: all
  - name: agent.clean.buildDirectory
    value: all
  - name: scheme
    value: test
  - name: agent.diagnostic
    value: true

# resources:
#   containers:
#   - container: my_container
#     image: node:latest
#   - container: nginx
#     image: nginx:latest


# pool: Default

# pool:
#     vmImage: 'ubuntu-latest'
 
# container:  ubuntu:18.04
# services:
  # nginx: nginx

# steps:
#   - script: |
#       cat /etc/hostname
#       export MY_ENV='test'
#       mkdir test
#       touch test/file_example
#   - script: |
#       cat /etc/hostname
#       sleep 10
#   - script: |
#       echo $MY_ENV
#       ls test

  

# --------------------------------------------------------------------------------------------------

trigger: none
pool:
  name: Azure Pipelines
  vmImage: windows-latest
jobs:
- job:
  displayName: DECODE_PERCENTS=true
  steps:
  - powershell: Write-Host '##vso[task.setvariable variable=DECODE_PERCENTS]true'
    displayName: 'Set Variable DECODE_PERCENTS=true'
  - powershell: |
      Write-Host '##vso[task.setsecret]test%AZP25ing'
      Write-Host 'test%ing'  # This will correctly print ***
    displayName: 'Set secret and print'
- job:
  displayName: DECODE_PERCENTS=false
  steps:
  - powershell: Write-Host '##vso[task.setvariable variable=DECODE_PERCENTS]false'
    displayName: 'Set Variable DECODE_PERCENTS=false'
  - powershell: |
      Write-Host '##vso[task.setsecret]test%AZP25ing'
      Write-Host 'test%ing'  # This will print test%ing
    displayName: 'Set secret and print'