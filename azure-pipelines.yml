# resources:


#   repositories:
#   - repository: AzureDevOps
#     type: git
#     endpoint: AzureDevOps
#     name: AzureDevOps/AzureDevOps

variables:
  - name: System.Debug
    value: true
  - name: build.clean
    value: all
  - name: agent.clean.buildDirectory
    value: all
  - name: agent.diagnostic
    value: true
  - name: sourceDir
    value: $(Build.SourcesDirectory)
  - name:  npm_config_cache
    value: $(Pipeline.Workspace)/.npm

jobs:
  - job: Job_1
    displayName: Agent job 1
    pool:
      name: Default
      # vmImage: windows-latest
    steps:
    - checkout: self
      fetchDepth: 1
    - task: NodeTool@0
      displayName: Use Node 6.x
      inputs:
        checkLatest: true
    - task: Cache@2
      inputs:
        key: 'npm | "$(Agent.OS)" | package.json'
        restoreKeys: |
            npm | "$(Agent.OS)"
        path: $(npm_config_cache)
      displayName: Cache npm

    - task: Npm@1
      displayName: npm install
      inputs:
        verbose: false
        workingDir: src/npm