# resources:


#   repositories:
#   - repository: AzureDevOps
#     type: git
#     endpoint: AzureDevOps
#     name: AzureDevOps/AzureDevOps

parameters:
- name: solutionTarget
  type: string
  default: 'someSolutionTarget'
- name: msBuildArguments
  type: string
  default: ''
- name: binSourcePath
  type: string
  default: ''

variables:
  - name: System.Debug
    value: true
  - name: build.clean
    value: all
  - name: agent.clean.buildDirectory
    value: all
  - name: agent.diagnostic
    value: true
  - name: sourceDir
    value: $(Build.SourcesDirectory)

jobs:
- job: 'Example'
  strategy:
    matrix:
      _java8:
        javaImageEnv: "8"
      _java8-zulu:
        javaImageEnv: "8_zulu"
  pool:
    # name: 'Default'
    vmImage: 'ubuntu-22.04'
  steps:
  - task: Bash@3
    displayName: 'Set Image'
    inputs:
      enable_network : true
      targetType: 'inline'
      script: |
        echo "##vso[task.setvariable variable=JAVA$(javaImageEnv)IMAGE]java$(javaImageEnv)image"
        export JAVA$(javaImageEnv)IMAGE=java$(javaImageEnv)image

  - task: Bash@3
    displayName: 'Test Images Part 1'
    inputs:
      enable_network : true
      targetType: 'inline'
      script: |
        echo JAVA$(javaImageEnv)IMAGE = $JAVA$(javaImageEnv)IMAGE