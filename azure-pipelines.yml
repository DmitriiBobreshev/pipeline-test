name: '##%C0%BCscript%C0%BEalert(1)%C0%BC/script%C0%BE##1'

parameters:
- name: enableCodeQL
  displayName: Enable CodeQL for run
  type: boolean
  default: false
#   - name: skipFolder
#     type: string
#     default: '^.*Resources(?!CL|Generic|\|$).*$'
#   - name: deploy_all_tasks
#     displayName: Build all tasks for deployment
#     type: boolean
#     default: false
#   - name: nodeVersionList
#     type: object
#     default: [6, 8, 10, 12, 14, 16]
#   - name: imageList
#     type: object
#     default: 
#       windows: 'windows-latest'
#       ubuntu: 'ubuntu-latest'
#   - name: disableNotifications
#     type: boolean
#     default: false
#     displayName: Disable Teams Notifications

variables:
  - name: System.Debug
    value: true
  - name: Agent.Diagnostic
    value: false
  - name: sometextprobably 
    value: 'fear'
  - name: currentDate
    value:  $[ format('{0:yyyy}{0:MM}{0:dd}', pipeline.startTime) ]
  - name: skipScanDir
    value: true 
  # - name: ADO_FORCE_USE_PSUNZIP
  #   value: true

pool: 
  vmImage: ubuntu-20.04

steps:
- task: DownloadSecureFile@1
  displayName: "Download key file from secure store"
  name: googleCertificate
  inputs:
    secureFile: 'gmail-385515-59dd21539bdc.json'
    
- task: GooglePlayRelease@4
  inputs:
    authType: 'JsonFile'
    serviceAccountKey: '$(googleCertificate.secureFilePath)'
    applicationId: 'is-app-com'
    action: 'OnlyStoreListing'
    track: 'internal'
    changeLogFile: '*.txt'
