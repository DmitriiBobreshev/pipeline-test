variables:
  - name: ndkPath
    value: TEST_NDK_PATH
  - name: androidSdkPath
    value: TEST_SDK_PATH
  - name: System.Debug
    value: false
  - name: build.clean
    value: all
  - name: agent.clean.buildDirectory
    value: all
  - name: scheme
    value: test

# resources:
#   containers:
#   - container: my_container
#     image: node:latest
#   - container: nginx
#     image: nginx:latest


# pool: Default

# pool:
#     vmImage: 'ubuntu-latest'
 
# container: my_container
# services:
#   nginx: nginx

# steps:
#   # - script: | 
#   #     curl nginx 
#   - script: |
#       docker ps
#     target: host

#   - script: |
#       cat /etc/hostname
#     target: my_container

#   - script: 
#       cat /etc/hostname
#     target: nginx

# --------------------------------------------------------------------------------------------------

jobs:
  - job: 'Win2019'
    displayName: Windows VS2019
    pool:
      name: 'Azure Pipelines'
      vmImage: 'windows-2019'
    steps:
      - task: PowerShell@2
        inputs:
          targetType: 'inline'
          script: |
            cd $(Agent.HomeDirectory)
            Get-ChildItem -Filter $(Agent.HomeDirectory)\System.Core.dll -Recurse | Select-Object -ExpandProperty VersionInfo

  - job: 'Win2022'
    displayName: Windows VS2022
    pool:
      name: 'Azure Pipelines'
      vmImage: 'windows-2022'
    steps:
      - task: PowerShell@2
        inputs:
          targetType: 'inline'
          script: |
            cd $(Agent.HomeDirectory)
            Get-ChildItem -Filter System.Core.dll -Recurse | Select-Object -ExpandProperty VersionInfo
  
  - job: 'Ubuntu'
    pool:
      name: 'Azure Pipelines'
      vmImage: 'ubuntu-latest'
    steps:
      - task: PowerShell@2
        inputs:
          targetType: 'inline'
          script: | 
            cd $(Agent.HomeDirectory)
            Get-ChildItem -Filter System.Core.dll -Recurse | Select-Object -ExpandProperty VersionInfo
